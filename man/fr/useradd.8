.\" Copyright 1991 - 1994, Julianne Frances Haugh
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of Julianne F. Haugh nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY JULIE HAUGH AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL JULIE HAUGH OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$Id: useradd.8,v 1.1 2002/03/10 07:41:04 kloczek Exp $
.\"
.\" Traduction 26/09/00 par Frédéric Delanoy (fdelanoy@info.fundp.ac.be)
.\"
.TH USERADD 8
.SH NOM
useradd \- Créer un nouvel utilisateur ou mettre à jour l'information par défaut sur un nouvel utilisateur
.SH SYNOPSIS
.TP 8
.B useradd
.\" .RB [ -A
.\" .RI { method | \fBDEFAULT\fR "},... ]"
.RB [ -c
.IR commentaire ]
.RB [ -d
.IR rép_perso ]
.br
.RB [ -e
.IR date_expiration ]
.RB [ -f
.IR inactive_time ]
.br
.RB [ -g
.IR groupe_initial ]
.RB [ -G
.IR groupe [,...]]
.br
.RB [ -m " [" -k
.IR rép_squelette ] " |" " " -M ]
.RB [ -p
.IR mot_de_passe ]
.br
.RB [ -s
.IR shell ]
.RB [ -u
.IR uid " ["
.BR -o ]]
.RB [ -n ] 
.RB [ -r ] 
.I login
.TP 8
.B useradd
\fB-D\fR
[\fB-g\fI groupe_défaut\fR]
[\fB-b\fI rép_perso_défaut\fR]
.br
[\fB-f\fI inactivité\fR]
[\fB-e\fI date_expiration_défaut\fR]
.br
[\fB-s\fI shell_défaut\fR]
.SH DESCRIPTION
.SS Création de nouveaux utilisateurs
Quand elle est invoquée sans l'option \fB-D\fR, la commande \fBuseradd\fR crée un nouveau compte utilisateur qui utilise les valeurs spécifiées sur la ligne de commandes, et les valeurs par défaut du système.  Le nouveau compte utilisateur sera inséré dans les fichiers du système quand c'est nécessaire, le répertoire personnel sera créé, et les fichiers initiaux copiés, cela dépendant des options présentes en ligne de commandes.  La version fournie avec Red Hat Linux crée un groupe pour chaque utilisateur ajouté au système, à moins que l'option \fB-n\fR ne soit fournie.  Les options qui s'appliquent à la commande \fBuseradd\fR sont :
.\" .IP "\fB-A {\fImethod\fR|\fBDEFAULT\fR},..."
.\" The value of the user's authentication method.
.\" The authentication method is the name of a program which is responsible
é.\" for validating the user's identity.
.\" The string \fBDEFAULT\fR may be used to change the user's authentication
.\" method to the standard system password method.
.\" This is a comma-separated list of program names.
.\" It may include \fBDEFAULT\fR exactly once.
.IP "\fB-c \fIcommentaire\fR"
Le champ de commentaire du fichier de mots de passe du nouvel utilisateur.
.IP "\fB-d \fIrép_perso\fR"
Le nouvel utilisateur sera créé en utilisant \fIrép_perso\fR comme valeur du répertoire de connexion de l'utilisateur.  Le comportement par défaut est de concaténer le nom de \fIlogin\fR au \fIrép_perso_défaut\fR, et de l'utiliser en tant que nom de répertoire de connexion.
.IP "\fB-e \fIdate_expiration\fR"
La date à laquelle le compte de l'utilisateur sera désactivé.  La date est spécifiée dans le format \fIAAAA-MM-JJ\fR.
.IP "\fB-f \fIjours_inactifs\fR"
Le nombre de jours suivant l'expiration d'un mot de passe après lequel le compte est définitivement désactivé.  Une valeur de 0 désactive le compte dès que le mot de passe a expiré, et une valeur de -1 désactive cette caractéristique.  La valeur par défaut est de -1.
.IP "\fB-g \fIgroupe_initial\fR"
Le nom du groupe ou le numéro du groupe de connexion initial de l'utilisateur.  Le nom du groupe doit exister.  Un numéro de groupe doit se référer à un groupe préexistant.  Le numéro de groupe par défaut est de 1.
.IP "\fB-G \fIgroupe,[...]\fR"
Une liste de groupes supplémentaires auxquels fait également partie l'utilisateur.  Chaque groupe est séparé du suivant par une virgule, sans espace entre les deux.  Les groupes sont soumis aux mêmes restrictions que celui donné avec l'option \fB-g\fR.  Le comportement par défaut pour l'utilisateur est de n'appartenir qu'au groupe initial.
.IP \fB-m\fR
Le répertoire personnel de l'utilisateur sera créé s'il n'existe pas déjà.  Les fichiers contenus dans \fIrép_squelette\fR seront copiés dans le répertoire personnel si l'option \fB-k\fR est employée; sinon, les fichiers contenus dans \fIrép_squelette\fR seront utilisés à la place.  Tous les répertoires contenus dans \fIrép_squelette\fR ou dans \fI/etc/skel\fR seront également créés dans le répertoire personnel de l'utilisateur.  L'option \fB-k\fR n'est valide qu'en conjonction avec l'option \fB-m\fR.  Le comportement par défaut est de ne pas créer le répertoire, et de ne copier aucun fichier.
.IP \fB-M\fR 
Le répertoire personnel de l'utilisateur ne sera pas créé, même si les réglages globaux au système présents dans \fI/etc/login.defs\fR consistent en la création de répertoires personnels. 
.IP \fB-n\fR 
Un groupe de même nom que l'utilisateur ajouté au système sera créé par défaut.  Cette option désactivera ce comportement spécifique de Red Hat Linux. 
.IP \fB-r\fR 
Cette option est utilisée pour créer un compte système, çàd un utilisateur avec un UID plus petit que la valeur de UID_MIN définie dans
\fI/etc/login.defs\fR.  Notez que \fBuseradd\fR ne créera pas de répertoire personnel pour un tel utilisateur, et ce quel que soit le réglage par défaut présent dans \fI/etc/login.defs\fR.  Vous devez spécifier l'option \fB-m\fR si vous désirez la création d'un répertoire personnel pour un tel utilisateur.  C'est une option ajoutée par Red Hat. 
.IP "\fB-p \fImot_de_passe\fR"
Le mot de passe crypté, comme renvoyé par \fBcrypt\fR(3).  Le comportement par défaut est de désactiver le compte.
.IP "\fB-s \fIshell\fR"
Le nom du shell de connexion de l'utilisateur.  Le comportement par défaut est de laisser ce compte vide, ce qui fait sélectionner au système le shell de connexion par défaut.
.IP "\fB-u \fIuid\fR"
La valeur numérique de l'ID de l'utilisateur.  Cette valeur doit être unique, à moins que l'option \fI-o\fR ne soit utilisée.  La valeur doit être non négative.  Le comportement par défaut est d'utiliser la plus petite valeur d'ID plus grande que 99, et plus grande que celle de n'importe quel autre utilisateur.  Les valeurs comprises entre 0 et 99 sont typiquement réservées pour les comptes systèmes.
.SS Modifier les valeurs par défaut.
Quand il est invoqué avec l'option \fB-D\fR, \fBuseradd\fR soit affichera les valeurs actuelles par défaut, soit mettra à jour les valeurs par défaut via la ligne de commandes.  Les options valides sont
.IP "\fB-b \fIrép_perso\fR"
Le préfixe de chemin initial pour un nouveau répertoire personnel d'utilisateur.  Le nom de l'utilisateur sera suffixé à la fin de \fIrép_perso\fR pour créer le nom du nouveau répertoire si l'option \fB-d\fI n'est pas utilisée pendant la création d'un nouveau compte.
.IP "\fB-e \fIdate_expiration_défaut\fR"
La date à laquelle le compte utilisateur sera désactivé.
.IP "\fB-f \fIinactivité\fR"
Le nombre de jours après l'expiration d'un mot de passe avant que le compte ne soit désactivé.
.IP "\fB-g \fIgroupe_défaut\fR"
Le nom de groupe ou l'ID du groupe initial d'un nouvel utilisateur.  Le groupe nommé doit exister, et un ID de groupe numérique doit déjà exister en tant qu'ID de groupe.
.IP "\fB-s \fIshell_défaut\fR"
Le nom du shell de connexion d'un nouvel utilisateur.  Le programme nommé sera utilisé pour tous les futurs nouveaux comptes.
.PP
Si aucune option n'est spécifiée, \fBuseradd\fR affichera les valeurs par défaut du moment.
.SH NOTES
L'administrateur système est responsable du placement des fichiers d'utilisateur par défaut dans le répertoire \fI/etc/skel\fR.
.br
Cette version de \fIuseradd\fR a été modifiée par Red Hat pour se conformer à la convention utilisateur/groupe de RedHat.
.SH INCONVÉNIENTS
Vous ne pouvez pas ajouter d'utilisateur à un groupe NIS.  Cela doit être effectué sur le serveur NIS.
.SH FICHIERS
\fB/etc/passwd\fR - information sur les comptes utilisateurs
.br
\fB/etc/shadow\fR - information sécurisée sur les comptes utilisateurs
.br
\fB/etc/group\fR - information de groupes
.br
\fB/etc/default/useradd\fR - information par défaut
.br
\fB/etc/login.defs\fR - réglages globaux du système
.br
\fB/etc/skel\fR - répertoire contenant les fichiers utilisés par défaut
.SH "VOIR AUSSI"
.BR chfn (1),
.BR chsh (1),
.BR crypt (3),
.BR groupadd (8),
.BR groupdel (8),
.BR groupmod (8),
.BR passwd (1),
.BR userdel (8),
.BR usermod (8)
.SH AUTEUR
Julianne Frances Haugh (jfh@bga.com)
.SH TRADUCTION
Frédéric Delanoy, 2000.
